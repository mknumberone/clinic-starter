{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport React, { useState, createElement } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport Text from \"react-native-paper/lib/module/components/Typography/Text\";\nimport Button from \"react-native-paper/lib/module/components/Button/Button\";\nimport TextInput from \"react-native-paper/lib/module/components/TextInput/TextInput\";\nimport { useTheme } from \"react-native-paper/lib/module/core/theming\";\nimport Menu from \"react-native-paper/lib/module/components/Menu/Menu\";\nimport TouchableRipple from \"react-native-paper/lib/module/components/TouchableRipple/TouchableRipple\";\nimport ProgressBar from \"react-native-paper/lib/module/components/ProgressBar\";\nimport ActivityIndicator from \"react-native-paper/lib/module/components/ActivityIndicator\";\nimport Banner from \"react-native-paper/lib/module/components/Banner\";\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\nimport DateTimePicker from '@react-native-community/datetimepicker';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport dayjs from 'dayjs';\nimport { useNavigation } from '@react-navigation/native';\nimport { appointmentService } from \"../services/appointment.service\";\nimport { patientService } from \"../services/patient.service\";\nimport { useAuthStore } from \"../stores/authStore\";\nimport { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"react/jsx-runtime\";\nexport default function BookingScreen() {\n  var _myPatientProfile$use;\n  var theme = useTheme();\n  var navigation = useNavigation();\n  var queryClient = useQueryClient();\n  var _useAuthStore = useAuthStore(),\n    user = _useAuthStore.user;\n  var _useQuery = useQuery({\n      queryKey: ['my-patient-profile', user == null ? void 0 : user.id],\n      queryFn: function () {\n        var _queryFn = _asyncToGenerator(function* () {\n          var _patient, _res$data;\n          if (user != null && (_patient = user.patient) != null && _patient.id) {\n            return user.patient;\n          }\n          var res = yield patientService.getPatients({\n            limit: 1000\n          });\n          var found = (_res$data = res.data) == null ? void 0 : _res$data.find(function (p) {\n            var _p$user;\n            return p.user_id === (user == null ? void 0 : user.id) || ((_p$user = p.user) == null ? void 0 : _p$user.id) === (user == null ? void 0 : user.id);\n          });\n          if (!found) throw new Error('NOT_FOUND');\n          return found;\n        });\n        function queryFn() {\n          return _queryFn.apply(this, arguments);\n        }\n        return queryFn;\n      }(),\n      enabled: !!(user != null && user.id),\n      retry: 1\n    }),\n    myPatientProfile = _useQuery.data,\n    isLoadingProfile = _useQuery.isLoading,\n    isProfileError = _useQuery.isError;\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    selectedBranch = _useState2[0],\n    setSelectedBranch = _useState2[1];\n  var _useState3 = useState(''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    selectedSpecialty = _useState4[0],\n    setSelectedSpecialty = _useState4[1];\n  var _useState5 = useState(''),\n    _useState6 = _slicedToArray(_useState5, 2),\n    selectedDoctor = _useState6[0],\n    setSelectedDoctor = _useState6[1];\n  var _useState7 = useState(new Date()),\n    _useState8 = _slicedToArray(_useState7, 2),\n    date = _useState8[0],\n    setDate = _useState8[1];\n  var _useState9 = useState(false),\n    _useState0 = _slicedToArray(_useState9, 2),\n    showDatePicker = _useState0[0],\n    setShowDatePicker = _useState0[1];\n  var _useState1 = useState(''),\n    _useState10 = _slicedToArray(_useState1, 2),\n    notes = _useState10[0],\n    setNotes = _useState10[1];\n  var _useState11 = useState(false),\n    _useState12 = _slicedToArray(_useState11, 2),\n    menuBranchVisible = _useState12[0],\n    setMenuBranchVisible = _useState12[1];\n  var _useState13 = useState(false),\n    _useState14 = _slicedToArray(_useState13, 2),\n    menuSpecialtyVisible = _useState14[0],\n    setMenuSpecialtyVisible = _useState14[1];\n  var _useState15 = useState(false),\n    _useState16 = _slicedToArray(_useState15, 2),\n    menuDoctorVisible = _useState16[0],\n    setMenuDoctorVisible = _useState16[1];\n  var _useQuery2 = useQuery({\n      queryKey: ['branches'],\n      queryFn: appointmentService.getBranches\n    }),\n    _useQuery2$data = _useQuery2.data,\n    branches = _useQuery2$data === void 0 ? [] : _useQuery2$data;\n  var _useQuery3 = useQuery({\n      queryKey: ['specialties'],\n      queryFn: appointmentService.getSpecialties\n    }),\n    _useQuery3$data = _useQuery3.data,\n    specialties = _useQuery3$data === void 0 ? [] : _useQuery3$data;\n  var _useQuery4 = useQuery({\n      queryKey: ['doctors', selectedBranch, selectedSpecialty],\n      queryFn: function queryFn() {\n        return appointmentService.getDoctors(selectedBranch, selectedSpecialty);\n      },\n      enabled: !!selectedBranch\n    }),\n    _useQuery4$data = _useQuery4.data,\n    doctors = _useQuery4$data === void 0 ? [] : _useQuery4$data,\n    loadingDoctors = _useQuery4.isFetching;\n  var createMutation = useMutation({\n    mutationFn: appointmentService.createAppointment,\n    onSuccess: function onSuccess() {\n      Alert.alert('Thành công', 'Đặt lịch khám thành công!');\n      queryClient.invalidateQueries(['myAppointments']);\n      navigation.navigate('Appointments');\n    },\n    onError: function onError(err) {\n      var _err$response, _err$response$data;\n      var message = (err == null ? void 0 : (_err$response = err.response) == null ? void 0 : (_err$response$data = _err$response.data) == null ? void 0 : _err$response$data.message) || 'Có lỗi xảy ra, vui lòng thử lại';\n      Alert.alert('Lỗi đặt lịch', message);\n    }\n  });\n  var handleSubmit = function handleSubmit() {\n    if (!selectedBranch) {\n      Alert.alert('Thiếu thông tin', 'Vui lòng chọn cơ sở khám');\n      return;\n    }\n    if (!notes.trim()) {\n      Alert.alert('Thiếu thông tin', 'Vui lòng nhập triệu chứng/lý do khám');\n      return;\n    }\n    createMutation.mutate({\n      branch_id: selectedBranch,\n      doctor_id: selectedDoctor || undefined,\n      start_time: date.toISOString(),\n      notes: notes\n    });\n  };\n  if (isLoadingProfile) {\n    return _jsxs(View, {\n      style: styles.centerContainer,\n      children: [_jsx(ActivityIndicator, {\n        size: \"large\",\n        animating: true,\n        color: theme.colors.primary\n      }), _jsx(Text, {\n        style: {\n          marginTop: 12\n        },\n        children: \"\\u0110ang ki\\u1EC3m tra h\\u1ED3 s\\u01A1...\"\n      })]\n    });\n  }\n  if (isProfileError || !myPatientProfile) {\n    return _jsx(View, {\n      style: styles.container,\n      children: _jsx(View, {\n        style: {\n          padding: 16\n        },\n        children: _jsx(Banner, {\n          visible: true,\n          actions: [{\n            label: 'Cập nhật ngay',\n            onPress: function onPress() {\n              return navigation.navigate('Profile');\n            }\n          }, {\n            label: 'Quay lại',\n            onPress: function onPress() {\n              return navigation.goBack();\n            }\n          }],\n          icon: function icon(_ref) {\n            var size = _ref.size;\n            return _jsx(MaterialCommunityIcons, {\n              name: \"alert-circle\",\n              size: size,\n              color: theme.colors.error\n            });\n          },\n          children: \"T\\xE0i kho\\u1EA3n c\\u1EE7a b\\u1EA1n ch\\u01B0a c\\xF3 h\\u1ED3 s\\u01A1 y t\\u1EBF. Vui l\\xF2ng c\\u1EADp nh\\u1EADt th\\xF4ng tin c\\xE1 nh\\xE2n tr\\u01B0\\u1EDBc khi \\u0111\\u1EB7t l\\u1ECBch.\"\n        })\n      })\n    });\n  }\n  var getBranchName = function getBranchName() {\n    var _branches$find;\n    return Array.isArray(branches) ? ((_branches$find = branches.find(function (b) {\n      return b.id === selectedBranch;\n    })) == null ? void 0 : _branches$find.name) || 'Chọn chi nhánh' : 'Chọn chi nhánh';\n  };\n  var getSpecialtyName = function getSpecialtyName() {\n    var _specialties$find;\n    return Array.isArray(specialties) ? ((_specialties$find = specialties.find(function (s) {\n      return s.id === selectedSpecialty;\n    })) == null ? void 0 : _specialties$find.name) || 'Tất cả chuyên khoa' : 'Tất cả chuyên khoa';\n  };\n  var getDoctorName = function getDoctorName() {\n    var _doctors$find, _doctors$find$user;\n    return Array.isArray(doctors) ? ((_doctors$find = doctors.find(function (d) {\n      return d.id === selectedDoctor;\n    })) == null ? void 0 : (_doctors$find$user = _doctors$find.user) == null ? void 0 : _doctors$find$user.full_name) || 'Chọn bác sĩ (hoặc để trống)' : 'Chọn bác sĩ';\n  };\n  return _jsx(KeyboardAvoidingView, {\n    behavior: Platform.OS === 'ios' ? 'padding' : undefined,\n    style: {\n      flex: 1\n    },\n    children: _jsxs(ScrollView, {\n      style: styles.container,\n      contentContainerStyle: {\n        paddingBottom: 40\n      },\n      children: [_jsxs(View, {\n        style: styles.stepContainer,\n        children: [_jsxs(Text, {\n          variant: \"titleMedium\",\n          style: {\n            fontWeight: 'bold',\n            color: theme.colors.primary\n          },\n          children: [\"\\u0110\\u1EB7t l\\u1ECBch cho: \", ((_myPatientProfile$use = myPatientProfile.user) == null ? void 0 : _myPatientProfile$use.full_name) || (user == null ? void 0 : user.full_name)]\n        }), _jsx(ProgressBar, {\n          progress: 0.5,\n          color: theme.colors.primary,\n          style: {\n            marginTop: 8,\n            borderRadius: 4\n          }\n        })]\n      }), _jsxs(View, {\n        style: styles.formContainer,\n        children: [_jsxs(View, {\n          style: styles.inputGroup,\n          children: [_jsxs(Text, {\n            style: styles.label,\n            children: [\"C\\u01A1 s\\u1EDF kh\\xE1m \", _jsx(Text, {\n              style: {\n                color: 'red'\n              },\n              children: \"*\"\n            })]\n          }), _jsx(Menu, {\n            visible: menuBranchVisible,\n            onDismiss: function onDismiss() {\n              return setMenuBranchVisible(false);\n            },\n            anchor: _jsx(TouchableRipple, {\n              onPress: function onPress() {\n                return setMenuBranchVisible(true);\n              },\n              style: styles.dropdown,\n              children: _jsxs(View, {\n                style: styles.dropdownContent,\n                children: [_jsx(Text, {\n                  style: {\n                    color: selectedBranch ? 'black' : '#777'\n                  },\n                  children: getBranchName()\n                }), _jsx(MaterialCommunityIcons, {\n                  name: \"chevron-down\",\n                  size: 24,\n                  color: \"#777\"\n                })]\n              })\n            }),\n            children: Array.isArray(branches) && branches.map(function (branch) {\n              return _jsx(Menu.Item, {\n                onPress: function onPress() {\n                  setSelectedBranch(branch.id);\n                  setMenuBranchVisible(false);\n                },\n                title: branch.name\n              }, branch.id);\n            })\n          })]\n        }), _jsxs(View, {\n          style: styles.inputGroup,\n          children: [_jsx(Text, {\n            style: styles.label,\n            children: \"Chuy\\xEAn khoa (L\\u1ECDc b\\xE1c s\\u0129)\"\n          }), _jsxs(Menu, {\n            visible: menuSpecialtyVisible,\n            onDismiss: function onDismiss() {\n              return setMenuSpecialtyVisible(false);\n            },\n            anchor: _jsx(TouchableRipple, {\n              onPress: function onPress() {\n                return setMenuSpecialtyVisible(true);\n              },\n              style: styles.dropdown,\n              children: _jsxs(View, {\n                style: styles.dropdownContent,\n                children: [_jsx(Text, {\n                  style: {\n                    color: selectedSpecialty ? 'black' : '#777'\n                  },\n                  children: getSpecialtyName()\n                }), _jsx(MaterialCommunityIcons, {\n                  name: \"chevron-down\",\n                  size: 24,\n                  color: \"#777\"\n                })]\n              })\n            }),\n            children: [_jsx(Menu.Item, {\n              onPress: function onPress() {\n                setSelectedSpecialty('');\n                setMenuSpecialtyVisible(false);\n              },\n              title: \"T\\u1EA5t c\\u1EA3 chuy\\xEAn khoa\"\n            }), Array.isArray(specialties) && specialties.map(function (spec) {\n              return _jsx(Menu.Item, {\n                onPress: function onPress() {\n                  setSelectedSpecialty(spec.id);\n                  setMenuSpecialtyVisible(false);\n                },\n                title: spec.name\n              }, spec.id);\n            })]\n          })]\n        }), _jsxs(View, {\n          style: styles.inputGroup,\n          children: [_jsx(Text, {\n            style: styles.label,\n            children: \"B\\xE1c s\\u0129 kh\\xE1m\"\n          }), _jsxs(Menu, {\n            visible: menuDoctorVisible,\n            onDismiss: function onDismiss() {\n              return setMenuDoctorVisible(false);\n            },\n            anchor: _jsx(TouchableRipple, {\n              onPress: function onPress() {\n                return !selectedBranch ? Alert.alert('Lưu ý', 'Vui lòng chọn cơ sở trước') : setMenuDoctorVisible(true);\n              },\n              style: [styles.dropdown, !selectedBranch && {\n                backgroundColor: '#f0f0f0'\n              }],\n              children: _jsxs(View, {\n                style: styles.dropdownContent,\n                children: [_jsx(Text, {\n                  style: {\n                    color: selectedDoctor ? 'black' : '#777'\n                  },\n                  children: loadingDoctors ? 'Đang tải...' : getDoctorName()\n                }), _jsx(MaterialCommunityIcons, {\n                  name: \"chevron-down\",\n                  size: 24,\n                  color: \"#777\"\n                })]\n              })\n            }),\n            children: [_jsx(Menu.Item, {\n              onPress: function onPress() {\n                setSelectedDoctor('');\n                setMenuDoctorVisible(false);\n              },\n              title: \"Ch\\u1ECDn b\\xE1c s\\u0129 ng\\u1EABu nhi\\xEAn\"\n            }), Array.isArray(doctors) && doctors.map(function (doc) {\n              var _doc$user;\n              return _jsx(Menu.Item, {\n                onPress: function onPress() {\n                  setSelectedDoctor(doc.id);\n                  setMenuDoctorVisible(false);\n                },\n                title: ((_doc$user = doc.user) == null ? void 0 : _doc$user.full_name) || 'Bác sĩ'\n              }, doc.id);\n            })]\n          })]\n        }), _jsxs(View, {\n          style: styles.inputGroup,\n          children: [_jsxs(Text, {\n            style: styles.label,\n            children: [\"Ng\\xE0y kh\\xE1m \", _jsx(Text, {\n              style: {\n                color: 'red'\n              },\n              children: \"*\"\n            })]\n          }), Platform.OS === 'web' ? _jsx(View, {\n            style: styles.dropdown,\n            children: createElement('input', {\n              type: 'datetime-local',\n              value: dayjs(date).format('YYYY-MM-DDTHH:mm'),\n              style: {\n                border: 'none',\n                outline: 'none',\n                width: '100%',\n                fontSize: 16,\n                backgroundColor: 'transparent'\n              },\n              onChange: function onChange(e) {\n                return setDate(new Date(e.target.value));\n              }\n            })\n          }) : _jsxs(_Fragment, {\n            children: [_jsx(TouchableRipple, {\n              onPress: function onPress() {\n                return setShowDatePicker(true);\n              },\n              style: styles.dropdown,\n              children: _jsxs(View, {\n                style: styles.dropdownContent,\n                children: [_jsx(Text, {\n                  children: dayjs(date).format('DD/MM/YYYY HH:mm')\n                }), _jsx(MaterialCommunityIcons, {\n                  name: \"calendar\",\n                  size: 24,\n                  color: \"#777\"\n                })]\n              })\n            }), showDatePicker && _jsx(DateTimePicker, {\n              value: date,\n              mode: \"date\",\n              display: Platform.OS === 'ios' ? 'spinner' : 'default',\n              onChange: function onChange(e, d) {\n                setShowDatePicker(Platform.OS === 'ios');\n                if (d) setDate(d);\n              },\n              minimumDate: new Date()\n            })]\n          })]\n        }), _jsxs(View, {\n          style: styles.inputGroup,\n          children: [_jsxs(Text, {\n            style: styles.label,\n            children: [\"Tri\\u1EC7u ch\\u1EE9ng / L\\xFD do \", _jsx(Text, {\n              style: {\n                color: 'red'\n              },\n              children: \"*\"\n            })]\n          }), _jsx(TextInput, {\n            mode: \"outlined\",\n            placeholder: \"Nh\\u1EADp tri\\u1EC7u ch\\u1EE9ng (VD: \\u0110au \\u0111\\u1EA7u, s\\u1ED1t...)\",\n            multiline: true,\n            numberOfLines: 4,\n            value: notes,\n            onChangeText: setNotes,\n            style: {\n              backgroundColor: 'white'\n            }\n          })]\n        }), _jsxs(View, {\n          style: styles.buttonRow,\n          children: [_jsx(Button, {\n            mode: \"outlined\",\n            onPress: function onPress() {\n              return navigation.goBack();\n            },\n            style: {\n              flex: 1\n            },\n            children: \"Quay l\\u1EA1i\"\n          }), _jsx(View, {\n            style: {\n              width: 12\n            }\n          }), _jsx(Button, {\n            mode: \"contained\",\n            onPress: handleSubmit,\n            loading: createMutation.isPending,\n            style: {\n              flex: 1\n            },\n            children: \"X\\xE1c nh\\u1EADn\"\n          })]\n        })]\n      })]\n    })\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff'\n  },\n  centerContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  stepContainer: {\n    padding: 16,\n    backgroundColor: '#f9f9f9',\n    borderBottomWidth: 1,\n    borderBottomColor: '#eee'\n  },\n  formContainer: {\n    padding: 16\n  },\n  inputGroup: {\n    marginBottom: 20\n  },\n  label: {\n    marginBottom: 8,\n    fontWeight: '500',\n    color: '#333'\n  },\n  dropdown: {\n    borderWidth: 1,\n    borderColor: '#ccc',\n    borderRadius: 4,\n    padding: 14,\n    backgroundColor: 'white',\n    height: 56,\n    justifyContent: 'center'\n  },\n  dropdownContent: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center'\n  },\n  buttonRow: {\n    flexDirection: 'row',\n    marginTop: 10,\n    marginBottom: 20\n  }\n});","map":{"version":3,"names":["React","useState","createElement","View","StyleSheet","ScrollView","Platform","KeyboardAvoidingView","Alert","Text","Button","TextInput","useTheme","Menu","TouchableRipple","ProgressBar","ActivityIndicator","Banner","useQuery","useMutation","useQueryClient","DateTimePicker","MaterialCommunityIcons","dayjs","useNavigation","appointmentService","patientService","useAuthStore","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","BookingScreen","_myPatientProfile$use","theme","navigation","queryClient","_useAuthStore","user","_useQuery","queryKey","id","queryFn","_queryFn","_asyncToGenerator","_patient","_res$data","patient","res","getPatients","limit","found","data","find","p","_p$user","user_id","Error","apply","arguments","enabled","retry","myPatientProfile","isLoadingProfile","isLoading","isProfileError","isError","_useState","_useState2","_slicedToArray","selectedBranch","setSelectedBranch","_useState3","_useState4","selectedSpecialty","setSelectedSpecialty","_useState5","_useState6","selectedDoctor","setSelectedDoctor","_useState7","Date","_useState8","date","setDate","_useState9","_useState0","showDatePicker","setShowDatePicker","_useState1","_useState10","notes","setNotes","_useState11","_useState12","menuBranchVisible","setMenuBranchVisible","_useState13","_useState14","menuSpecialtyVisible","setMenuSpecialtyVisible","_useState15","_useState16","menuDoctorVisible","setMenuDoctorVisible","_useQuery2","getBranches","_useQuery2$data","branches","_useQuery3","getSpecialties","_useQuery3$data","specialties","_useQuery4","getDoctors","_useQuery4$data","doctors","loadingDoctors","isFetching","createMutation","mutationFn","createAppointment","onSuccess","alert","invalidateQueries","navigate","onError","err","_err$response","_err$response$data","message","response","handleSubmit","trim","mutate","branch_id","doctor_id","undefined","start_time","toISOString","style","styles","centerContainer","children","size","animating","color","colors","primary","marginTop","container","padding","visible","actions","label","onPress","goBack","icon","_ref","name","error","getBranchName","_branches$find","Array","isArray","b","getSpecialtyName","_specialties$find","s","getDoctorName","_doctors$find","_doctors$find$user","d","full_name","behavior","OS","flex","contentContainerStyle","paddingBottom","stepContainer","variant","fontWeight","progress","borderRadius","formContainer","inputGroup","onDismiss","anchor","dropdown","dropdownContent","map","branch","Item","title","spec","backgroundColor","doc","_doc$user","type","value","format","border","outline","width","fontSize","onChange","e","target","mode","display","minimumDate","placeholder","multiline","numberOfLines","onChangeText","buttonRow","loading","isPending","create","justifyContent","alignItems","borderBottomWidth","borderBottomColor","marginBottom","borderWidth","borderColor","height","flexDirection"],"sources":["D:/Student/N4_HK2/Web_App/clinic-starter/mobile/src/screens/BookingScreen.tsx"],"sourcesContent":["import React, { useState, createElement } from 'react';\r\nimport { View, StyleSheet, ScrollView, Platform, KeyboardAvoidingView, Alert } from 'react-native';\r\nimport { Text, Button, TextInput, useTheme, Menu, TouchableRipple, HelperText, ProgressBar, ActivityIndicator, Banner } from 'react-native-paper';\r\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\r\nimport DateTimePicker from '@react-native-community/datetimepicker';\r\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\r\nimport dayjs from 'dayjs';\r\nimport { useNavigation } from '@react-navigation/native';\r\n\r\n// Import Services & Store\r\nimport { appointmentService } from '../services/appointment.service';\r\nimport { patientService } from '../services/patient.service'; // Service mới tạo\r\nimport { useAuthStore } from '../stores/authStore';\r\n\r\nexport default function BookingScreen() {\r\n    const theme = useTheme();\r\n    const navigation = useNavigation<any>();\r\n    const queryClient = useQueryClient();\r\n    const { user } = useAuthStore(); // Lấy thông tin user đang đăng nhập\r\n\r\n    // --- LOGIC MỚI: TÌM HỒ SƠ BỆNH NHÂN (Giống Web) ---\r\n    const { data: myPatientProfile, isLoading: isLoadingProfile, isError: isProfileError } = useQuery({\r\n        queryKey: ['my-patient-profile', user?.id],\r\n        queryFn: async () => {\r\n            // 1. Nếu backend trả về sẵn trong user (Lý tưởng)\r\n            if ((user as any)?.patient?.id) {\r\n                return (user as any).patient;\r\n            }\r\n            // 2. Nếu không, gọi API tìm thủ công (Logic từ file Web bạn gửi)\r\n            const res = await patientService.getPatients({ limit: 1000 });\r\n            // Tìm hồ sơ khớp user_id\r\n            const found = res.data?.find((p: any) => p.user_id === user?.id || p.user?.id === user?.id);\r\n\r\n            if (!found) throw new Error('NOT_FOUND');\r\n            return found;\r\n        },\r\n        enabled: !!user?.id,\r\n        retry: 1\r\n    });\r\n\r\n    // --- FORM STATE ---\r\n    const [selectedBranch, setSelectedBranch] = useState<string>('');\r\n    const [selectedSpecialty, setSelectedSpecialty] = useState<string>('');\r\n    const [selectedDoctor, setSelectedDoctor] = useState<string>('');\r\n    const [date, setDate] = useState(new Date());\r\n    const [showDatePicker, setShowDatePicker] = useState(false);\r\n    const [notes, setNotes] = useState('');\r\n\r\n    // --- UI STATE ---\r\n    const [menuBranchVisible, setMenuBranchVisible] = useState(false);\r\n    const [menuSpecialtyVisible, setMenuSpecialtyVisible] = useState(false);\r\n    const [menuDoctorVisible, setMenuDoctorVisible] = useState(false);\r\n\r\n    // --- DATA FETCHING (Dropdowns) ---\r\n    const { data: branches = [] } = useQuery({\r\n        queryKey: ['branches'],\r\n        queryFn: appointmentService.getBranches\r\n    });\r\n\r\n    const { data: specialties = [] } = useQuery({\r\n        queryKey: ['specialties'],\r\n        queryFn: appointmentService.getSpecialties\r\n    });\r\n\r\n    const { data: doctors = [], isFetching: loadingDoctors } = useQuery({\r\n        queryKey: ['doctors', selectedBranch, selectedSpecialty],\r\n        queryFn: () => appointmentService.getDoctors(selectedBranch, selectedSpecialty),\r\n        enabled: !!selectedBranch,\r\n    });\r\n\r\n    // --- MUTATION ---\r\n    const createMutation = useMutation({\r\n        mutationFn: appointmentService.createAppointment,\r\n        onSuccess: () => {\r\n            Alert.alert('Thành công', 'Đặt lịch khám thành công!');\r\n            queryClient.invalidateQueries(['myAppointments']);\r\n            navigation.navigate('Appointments');\r\n        },\r\n        onError: (err: any) => {\r\n            const message = err?.response?.data?.message || 'Có lỗi xảy ra, vui lòng thử lại';\r\n            Alert.alert('Lỗi đặt lịch', message);\r\n        },\r\n    });\r\n\r\n    const handleSubmit = () => {\r\n        if (!selectedBranch) {\r\n            Alert.alert('Thiếu thông tin', 'Vui lòng chọn cơ sở khám');\r\n            return;\r\n        }\r\n        if (!notes.trim()) {\r\n            Alert.alert('Thiếu thông tin', 'Vui lòng nhập triệu chứng/lý do khám');\r\n            return;\r\n        }\r\n\r\n        createMutation.mutate({\r\n            branch_id: selectedBranch,\r\n            doctor_id: selectedDoctor || undefined,\r\n            start_time: date.toISOString(),\r\n            notes: notes,\r\n            // Nếu API cần patient_id, bạn có thể thêm: patient_id: myPatientProfile.id\r\n        });\r\n    };\r\n\r\n    // --- RENDER ---\r\n\r\n    // 1. Màn hình Loading khi đang tìm hồ sơ\r\n    if (isLoadingProfile) {\r\n        return (\r\n            <View style={styles.centerContainer}>\r\n                <ActivityIndicator size=\"large\" animating={true} color={theme.colors.primary} />\r\n                <Text style={{ marginTop: 12 }}>Đang kiểm tra hồ sơ...</Text>\r\n            </View>\r\n        );\r\n    }\r\n\r\n    // 2. Màn hình báo lỗi nếu chưa có hồ sơ (Giống Web)\r\n    if (isProfileError || !myPatientProfile) {\r\n        return (\r\n            <View style={styles.container}>\r\n                <View style={{ padding: 16 }}>\r\n                    <Banner\r\n                        visible={true}\r\n                        actions={[\r\n                            {\r\n                                label: 'Cập nhật ngay',\r\n                                onPress: () => navigation.navigate('Profile'), // Chuyển hướng về trang Profile\r\n                            },\r\n                            {\r\n                                label: 'Quay lại',\r\n                                onPress: () => navigation.goBack(),\r\n                            },\r\n                        ]}\r\n                        icon={({ size }) => (\r\n                            <MaterialCommunityIcons name=\"alert-circle\" size={size} color={theme.colors.error} />\r\n                        )}\r\n                    >\r\n                        Tài khoản của bạn chưa có hồ sơ y tế. Vui lòng cập nhật thông tin cá nhân trước khi đặt lịch.\r\n                    </Banner>\r\n                </View>\r\n            </View>\r\n        );\r\n    }\r\n\r\n    // 3. Màn hình Form đặt lịch (Khi đã có hồ sơ)\r\n    const getBranchName = () => Array.isArray(branches) ? branches.find((b) => b.id === selectedBranch)?.name || 'Chọn chi nhánh' : 'Chọn chi nhánh';\r\n    const getSpecialtyName = () => Array.isArray(specialties) ? specialties.find((s) => s.id === selectedSpecialty)?.name || 'Tất cả chuyên khoa' : 'Tất cả chuyên khoa';\r\n    const getDoctorName = () => Array.isArray(doctors) ? doctors.find((d) => d.id === selectedDoctor)?.user?.full_name || 'Chọn bác sĩ (hoặc để trống)' : 'Chọn bác sĩ';\r\n\r\n    return (\r\n        <KeyboardAvoidingView behavior={Platform.OS === 'ios' ? 'padding' : undefined} style={{ flex: 1 }}>\r\n            <ScrollView style={styles.container} contentContainerStyle={{ paddingBottom: 40 }}>\r\n\r\n                {/* STEP INDICATOR */}\r\n                <View style={styles.stepContainer}>\r\n                    <Text variant=\"titleMedium\" style={{ fontWeight: 'bold', color: theme.colors.primary }}>\r\n                        Đặt lịch cho: {myPatientProfile.user?.full_name || user?.full_name}\r\n                    </Text>\r\n                    <ProgressBar progress={0.5} color={theme.colors.primary} style={{ marginTop: 8, borderRadius: 4 }} />\r\n                </View>\r\n\r\n                <View style={styles.formContainer}>\r\n                    {/* CHỌN CƠ SỞ */}\r\n                    <View style={styles.inputGroup}>\r\n                        <Text style={styles.label}>Cơ sở khám <Text style={{ color: 'red' }}>*</Text></Text>\r\n                        <Menu\r\n                            visible={menuBranchVisible}\r\n                            onDismiss={() => setMenuBranchVisible(false)}\r\n                            anchor={\r\n                                <TouchableRipple onPress={() => setMenuBranchVisible(true)} style={styles.dropdown}>\r\n                                    <View style={styles.dropdownContent}>\r\n                                        <Text style={{ color: selectedBranch ? 'black' : '#777' }}>{getBranchName()}</Text>\r\n                                        <MaterialCommunityIcons name=\"chevron-down\" size={24} color=\"#777\" />\r\n                                    </View>\r\n                                </TouchableRipple>\r\n                            }\r\n                        >\r\n                            {Array.isArray(branches) && branches.map((branch) => (\r\n                                <Menu.Item\r\n                                    key={branch.id}\r\n                                    onPress={() => { setSelectedBranch(branch.id); setMenuBranchVisible(false); }}\r\n                                    title={branch.name}\r\n                                />\r\n                            ))}\r\n                        </Menu>\r\n                    </View>\r\n\r\n                    {/* CHỌN CHUYÊN KHOA */}\r\n                    <View style={styles.inputGroup}>\r\n                        <Text style={styles.label}>Chuyên khoa (Lọc bác sĩ)</Text>\r\n                        <Menu\r\n                            visible={menuSpecialtyVisible}\r\n                            onDismiss={() => setMenuSpecialtyVisible(false)}\r\n                            anchor={\r\n                                <TouchableRipple onPress={() => setMenuSpecialtyVisible(true)} style={styles.dropdown}>\r\n                                    <View style={styles.dropdownContent}>\r\n                                        <Text style={{ color: selectedSpecialty ? 'black' : '#777' }}>{getSpecialtyName()}</Text>\r\n                                        <MaterialCommunityIcons name=\"chevron-down\" size={24} color=\"#777\" />\r\n                                    </View>\r\n                                </TouchableRipple>\r\n                            }\r\n                        >\r\n                            <Menu.Item onPress={() => { setSelectedSpecialty(''); setMenuSpecialtyVisible(false); }} title=\"Tất cả chuyên khoa\" />\r\n                            {Array.isArray(specialties) && specialties.map((spec) => (\r\n                                <Menu.Item\r\n                                    key={spec.id}\r\n                                    onPress={() => { setSelectedSpecialty(spec.id); setMenuSpecialtyVisible(false); }}\r\n                                    title={spec.name}\r\n                                />\r\n                            ))}\r\n                        </Menu>\r\n                    </View>\r\n\r\n                    {/* CHỌN BÁC SĨ */}\r\n                    <View style={styles.inputGroup}>\r\n                        <Text style={styles.label}>Bác sĩ khám</Text>\r\n                        <Menu\r\n                            visible={menuDoctorVisible}\r\n                            onDismiss={() => setMenuDoctorVisible(false)}\r\n                            anchor={\r\n                                <TouchableRipple\r\n                                    onPress={() => !selectedBranch ? Alert.alert('Lưu ý', 'Vui lòng chọn cơ sở trước') : setMenuDoctorVisible(true)}\r\n                                    style={[styles.dropdown, !selectedBranch && { backgroundColor: '#f0f0f0' }]}\r\n                                >\r\n                                    <View style={styles.dropdownContent}>\r\n                                        <Text style={{ color: selectedDoctor ? 'black' : '#777' }}>\r\n                                            {loadingDoctors ? 'Đang tải...' : getDoctorName()}\r\n                                        </Text>\r\n                                        <MaterialCommunityIcons name=\"chevron-down\" size={24} color=\"#777\" />\r\n                                    </View>\r\n                                </TouchableRipple>\r\n                            }\r\n                        >\r\n                            <Menu.Item onPress={() => { setSelectedDoctor(''); setMenuDoctorVisible(false); }} title=\"Chọn bác sĩ ngẫu nhiên\" />\r\n                            {Array.isArray(doctors) && doctors.map((doc) => (\r\n                                <Menu.Item\r\n                                    key={doc.id}\r\n                                    onPress={() => { setSelectedDoctor(doc.id); setMenuDoctorVisible(false); }}\r\n                                    title={doc.user?.full_name || 'Bác sĩ'}\r\n                                />\r\n                            ))}\r\n                        </Menu>\r\n                    </View>\r\n\r\n                    {/* CHỌN NGÀY GIỜ */}\r\n                    <View style={styles.inputGroup}>\r\n                        <Text style={styles.label}>Ngày khám <Text style={{ color: 'red' }}>*</Text></Text>\r\n                        {Platform.OS === 'web' ? (\r\n                            <View style={styles.dropdown}>\r\n                                {createElement('input', {\r\n                                    type: 'datetime-local',\r\n                                    value: dayjs(date).format('YYYY-MM-DDTHH:mm'),\r\n                                    style: { border: 'none', outline: 'none', width: '100%', fontSize: 16, backgroundColor: 'transparent' },\r\n                                    onChange: (e: any) => setDate(new Date(e.target.value))\r\n                                })}\r\n                            </View>\r\n                        ) : (\r\n                            <>\r\n                                <TouchableRipple onPress={() => setShowDatePicker(true)} style={styles.dropdown}>\r\n                                    <View style={styles.dropdownContent}>\r\n                                        <Text>{dayjs(date).format('DD/MM/YYYY HH:mm')}</Text>\r\n                                        <MaterialCommunityIcons name=\"calendar\" size={24} color=\"#777\" />\r\n                                    </View>\r\n                                </TouchableRipple>\r\n                                {showDatePicker && (\r\n                                    <DateTimePicker\r\n                                        value={date}\r\n                                        mode=\"date\"\r\n                                        display={Platform.OS === 'ios' ? 'spinner' : 'default'}\r\n                                        onChange={(e, d) => { setShowDatePicker(Platform.OS === 'ios'); if (d) setDate(d); }}\r\n                                        minimumDate={new Date()}\r\n                                    />\r\n                                )}\r\n                            </>\r\n                        )}\r\n                    </View>\r\n\r\n                    {/* TRIỆU CHỨNG */}\r\n                    <View style={styles.inputGroup}>\r\n                        <Text style={styles.label}>Triệu chứng / Lý do <Text style={{ color: 'red' }}>*</Text></Text>\r\n                        <TextInput\r\n                            mode=\"outlined\"\r\n                            placeholder=\"Nhập triệu chứng (VD: Đau đầu, sốt...)\"\r\n                            multiline\r\n                            numberOfLines={4}\r\n                            value={notes}\r\n                            onChangeText={setNotes}\r\n                            style={{ backgroundColor: 'white' }}\r\n                        />\r\n                    </View>\r\n\r\n                    {/* BUTTONS */}\r\n                    <View style={styles.buttonRow}>\r\n                        <Button mode=\"outlined\" onPress={() => navigation.goBack()} style={{ flex: 1 }}>\r\n                            Quay lại\r\n                        </Button>\r\n                        <View style={{ width: 12 }} />\r\n                        <Button\r\n                            mode=\"contained\"\r\n                            onPress={handleSubmit}\r\n                            loading={createMutation.isPending}\r\n                            style={{ flex: 1 }}\r\n                        >\r\n                            Xác nhận\r\n                        </Button>\r\n                    </View>\r\n\r\n                </View>\r\n            </ScrollView>\r\n        </KeyboardAvoidingView>\r\n    );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    container: { flex: 1, backgroundColor: '#fff' },\r\n    centerContainer: { flex: 1, justifyContent: 'center', alignItems: 'center' },\r\n    stepContainer: { padding: 16, backgroundColor: '#f9f9f9', borderBottomWidth: 1, borderBottomColor: '#eee' },\r\n    formContainer: { padding: 16 },\r\n    inputGroup: { marginBottom: 20 },\r\n    label: { marginBottom: 8, fontWeight: '500', color: '#333' },\r\n    dropdown: { borderWidth: 1, borderColor: '#ccc', borderRadius: 4, padding: 14, backgroundColor: 'white', height: 56, justifyContent: 'center' },\r\n    dropdownContent: { flexDirection: 'row', justifyContent: 'space-between', alignItems: 'center' },\r\n    buttonRow: { flexDirection: 'row', marginTop: 10, marginBottom: 20 },\r\n});"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
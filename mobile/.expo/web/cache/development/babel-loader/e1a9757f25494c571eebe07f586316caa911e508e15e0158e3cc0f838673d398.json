{"ast":null,"code":"import React from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Card from \"react-native-paper/lib/module/components/Card/Card\";\nimport Text from \"react-native-paper/lib/module/components/Typography/Text\";\nimport Divider from \"react-native-paper/lib/module/components/Divider\";\nimport { useTheme } from \"react-native-paper/lib/module/core/theming\";\nimport ActivityIndicator from \"react-native-paper/lib/module/components/ActivityIndicator\";\nimport { useQuery } from '@tanstack/react-query';\nimport { prescriptionService } from \"../services/prescription.service\";\nimport dayjs from 'dayjs';\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function PrescriptionDetailScreen(_ref) {\n  var _prescription$doctor, _prescription$doctor$, _prescription$items;\n  var route = _ref.route;\n  var id = route.params.id;\n  var theme = useTheme();\n  var _useQuery = useQuery({\n      queryKey: ['prescription', id],\n      queryFn: function queryFn() {\n        return prescriptionService.getPrescriptionById(id);\n      }\n    }),\n    prescription = _useQuery.data,\n    isLoading = _useQuery.isLoading;\n  if (isLoading) return _jsx(View, {\n    style: styles.center,\n    children: _jsx(ActivityIndicator, {})\n  });\n  if (!prescription) return _jsx(View, {\n    style: styles.center,\n    children: _jsx(Text, {\n      children: \"Kh\\xF4ng t\\xECm th\\u1EA5y \\u0111\\u01A1n thu\\u1ED1c\"\n    })\n  });\n  return _jsxs(ScrollView, {\n    style: styles.container,\n    children: [_jsxs(Card, {\n      style: styles.card,\n      children: [_jsx(Card.Title, {\n        title: \"Th\\xF4ng tin chung\",\n        titleStyle: {\n          fontWeight: 'bold'\n        }\n      }), _jsxs(Card.Content, {\n        children: [_jsxs(View, {\n          style: styles.row,\n          children: [_jsx(Text, {\n            style: styles.label,\n            children: \"B\\xE1c s\\u0129:\"\n          }), _jsx(Text, {\n            style: styles.value,\n            children: (_prescription$doctor = prescription.doctor) == null ? void 0 : (_prescription$doctor$ = _prescription$doctor.user) == null ? void 0 : _prescription$doctor$.full_name\n          })]\n        }), _jsxs(View, {\n          style: styles.row,\n          children: [_jsx(Text, {\n            style: styles.label,\n            children: \"Ng\\xE0y k\\xEA:\"\n          }), _jsx(Text, {\n            style: styles.value,\n            children: dayjs(prescription.created_at).format('DD/MM/YYYY HH:mm')\n          })]\n        }), _jsxs(View, {\n          style: styles.row,\n          children: [_jsx(Text, {\n            style: styles.label,\n            children: \"L\\u1EDDi d\\u1EB7n:\"\n          }), _jsx(Text, {\n            style: styles.value,\n            children: prescription.notes || 'Không có'\n          })]\n        })]\n      })]\n    }), _jsx(Text, {\n      variant: \"titleLarge\",\n      style: styles.sectionTitle,\n      children: \"Danh s\\xE1ch thu\\u1ED1c\"\n    }), (_prescription$items = prescription.items) == null ? void 0 : _prescription$items.map(function (item, index) {\n      return _jsx(Card, {\n        style: styles.medicineCard,\n        children: _jsxs(Card.Content, {\n          children: [_jsxs(View, {\n            style: styles.medHeader,\n            children: [_jsxs(Text, {\n              variant: \"titleMedium\",\n              style: {\n                fontWeight: 'bold',\n                color: theme.colors.primary\n              },\n              children: [index + 1, \". \", item.name]\n            }), !item.medication_id && _jsx(Text, {\n              style: {\n                color: 'orange',\n                fontSize: 12,\n                fontWeight: 'bold'\n              },\n              children: \"T\\u1EF1 mua\"\n            })]\n          }), _jsx(Divider, {\n            style: {\n              marginVertical: 8\n            }\n          }), _jsxs(View, {\n            style: styles.medDetail,\n            children: [_jsxs(Text, {\n              children: [\"S\\u1ED1 l\\u01B0\\u1EE3ng: \", _jsx(Text, {\n                style: {\n                  fontWeight: 'bold'\n                },\n                children: item.quantity\n              })]\n            }), _jsxs(Text, {\n              children: [\"Li\\u1EC1u d\\xF9ng: \", item.dosage]\n            }), _jsxs(Text, {\n              children: [\"C\\xE1ch d\\xF9ng: \", item.frequency]\n            })]\n          })]\n        })\n      }, index);\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#f5f5f5',\n    padding: 16\n  },\n  center: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  card: {\n    marginBottom: 16,\n    backgroundColor: 'white'\n  },\n  sectionTitle: {\n    marginVertical: 12,\n    fontWeight: 'bold',\n    color: '#333'\n  },\n  medicineCard: {\n    marginBottom: 12,\n    backgroundColor: 'white'\n  },\n  row: {\n    flexDirection: 'row',\n    marginBottom: 8\n  },\n  label: {\n    width: 100,\n    color: '#666'\n  },\n  value: {\n    flex: 1,\n    fontWeight: '500'\n  },\n  medHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center'\n  },\n  medDetail: {\n    gap: 4\n  }\n});","map":{"version":3,"names":["React","View","StyleSheet","ScrollView","Card","Text","Divider","useTheme","ActivityIndicator","useQuery","prescriptionService","dayjs","jsx","_jsx","jsxs","_jsxs","PrescriptionDetailScreen","_ref","_prescription$doctor","_prescription$doctor$","_prescription$items","route","id","params","theme","_useQuery","queryKey","queryFn","getPrescriptionById","prescription","data","isLoading","style","styles","center","children","container","card","Title","title","titleStyle","fontWeight","Content","row","label","value","doctor","user","full_name","created_at","format","notes","variant","sectionTitle","items","map","item","index","medicineCard","medHeader","color","colors","primary","name","medication_id","fontSize","marginVertical","medDetail","quantity","dosage","frequency","create","flex","backgroundColor","padding","justifyContent","alignItems","marginBottom","flexDirection","width","gap"],"sources":["D:/Student/N4_HK2/Web_App/clinic-starter/mobile/src/screens/PrescriptionDetailScreen.tsx"],"sourcesContent":["import React from 'react';\r\nimport { View, StyleSheet, ScrollView } from 'react-native';\r\nimport { Card, Text, Divider, DataTable, useTheme, ActivityIndicator } from 'react-native-paper';\r\nimport { useQuery } from '@tanstack/react-query';\r\nimport { prescriptionService } from '../services/prescription.service';\r\nimport dayjs from 'dayjs';\r\n\r\nexport default function PrescriptionDetailScreen({ route }: any) {\r\n    const { id } = route.params;\r\n    const theme = useTheme();\r\n\r\n    const { data: prescription, isLoading } = useQuery({\r\n        queryKey: ['prescription', id],\r\n        queryFn: () => prescriptionService.getPrescriptionById(id),\r\n    });\r\n\r\n    if (isLoading) return <View style={styles.center}><ActivityIndicator /></View>;\r\n    if (!prescription) return <View style={styles.center}><Text>Không tìm thấy đơn thuốc</Text></View>;\r\n\r\n    return (\r\n        <ScrollView style={styles.container}>\r\n            <Card style={styles.card}>\r\n                <Card.Title title=\"Thông tin chung\" titleStyle={{ fontWeight: 'bold' }} />\r\n                <Card.Content>\r\n                    <View style={styles.row}>\r\n                        <Text style={styles.label}>Bác sĩ:</Text>\r\n                        <Text style={styles.value}>{prescription.doctor?.user?.full_name}</Text>\r\n                    </View>\r\n                    <View style={styles.row}>\r\n                        <Text style={styles.label}>Ngày kê:</Text>\r\n                        <Text style={styles.value}>{dayjs(prescription.created_at).format('DD/MM/YYYY HH:mm')}</Text>\r\n                    </View>\r\n                    <View style={styles.row}>\r\n                        <Text style={styles.label}>Lời dặn:</Text>\r\n                        <Text style={styles.value}>{prescription.notes || 'Không có'}</Text>\r\n                    </View>\r\n                </Card.Content>\r\n            </Card>\r\n\r\n            <Text variant=\"titleLarge\" style={styles.sectionTitle}>Danh sách thuốc</Text>\r\n\r\n            {prescription.items?.map((item: any, index: number) => (\r\n                <Card key={index} style={styles.medicineCard}>\r\n                    <Card.Content>\r\n                        <View style={styles.medHeader}>\r\n                            <Text variant=\"titleMedium\" style={{ fontWeight: 'bold', color: theme.colors.primary }}>\r\n                                {index + 1}. {item.name}\r\n                            </Text>\r\n                            {!item.medication_id && (\r\n                                <Text style={{ color: 'orange', fontSize: 12, fontWeight: 'bold' }}>Tự mua</Text>\r\n                            )}\r\n                        </View>\r\n                        <Divider style={{ marginVertical: 8 }} />\r\n                        <View style={styles.medDetail}>\r\n                            <Text>Số lượng: <Text style={{ fontWeight: 'bold' }}>{item.quantity}</Text></Text>\r\n                            <Text>Liều dùng: {item.dosage}</Text>\r\n                            <Text>Cách dùng: {item.frequency}</Text>\r\n                        </View>\r\n                    </Card.Content>\r\n                </Card>\r\n            ))}\r\n        </ScrollView>\r\n    );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    container: { flex: 1, backgroundColor: '#f5f5f5', padding: 16 },\r\n    center: { flex: 1, justifyContent: 'center', alignItems: 'center' },\r\n    card: { marginBottom: 16, backgroundColor: 'white' },\r\n    sectionTitle: { marginVertical: 12, fontWeight: 'bold', color: '#333' },\r\n    medicineCard: { marginBottom: 12, backgroundColor: 'white' },\r\n    row: { flexDirection: 'row', marginBottom: 8 },\r\n    label: { width: 100, color: '#666' },\r\n    value: { flex: 1, fontWeight: '500' },\r\n    medHeader: { flexDirection: 'row', justifyContent: 'space-between', alignItems: 'center' },\r\n    medDetail: { gap: 4 },\r\n});"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}